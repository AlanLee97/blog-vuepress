(window.webpackJsonp=window.webpackJsonp||[]).push([[232],{873:function(s,n,a){"use strict";a.r(n);var e=a(1),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"安装jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[s._v("#")]),s._v(" 安装jenkins")]),s._v(" "),a("p",[s._v("在docker中安装jenkins")]),s._v(" "),a("p",[s._v("输入以下代码")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("docker run "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -u root "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -d -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8001")]),s._v(":8080 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /var/jenkins_home:/var/jenkins_home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /usr/bin/docker:/usr/bin/docker "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /usr/lib64/libltdl.so.7:/usr/lib64/libltdl.so.7 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /etc/profile:/etc/profile "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /var/run/docker.sock:/var/run/docker.sock "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /usr/local/maven/maven3:/usr/local/maven/maven3 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.242.b08-0.el7_7.x86_64 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  -v "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v('"')]),s._v(":/home "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  --name jenkins2 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n  jenkinsci/blueocean\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("复制密码")]),s._v(" "),a("p",[s._v("docker logs jenkinsci/blueocean容器id")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("790bf04c1383422c9da78397bcb7cbef\n\nc6f6cba51094442b8d966b9aec592435\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("访问localhost:8000")]),s._v(" "),a("p",[s._v("输入刚刚的一串密码")]),s._v(" "),a("p",[s._v("进入插件安装页面")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221131921-120772.png",alt:"image-20200221131921028"}})]),s._v(" "),a("p",[s._v("安装完之后创建账户")]),s._v(" "),a("p",[s._v("实例配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144024-647535.png",alt:"image-20200221144023800"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144041-516818.png",alt:"image-20200221144041189"}})]),s._v(" "),a("p",[s._v("进入主界面")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144320-539671.png",alt:"image-20200221144319625"}})]),s._v(" "),a("p",[s._v("创建项目")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144337-897131.png",alt:"image-20200221144336311"}})]),s._v(" "),a("p",[s._v("输入任务名称--\x3e点击流水线--\x3e点确定")]),s._v(" "),a("p",[s._v("在 "),a("strong",[s._v("Description")]),s._v(" 字段中填写流水线的简要描述 （例如 "),a("code",[s._v("一个演示如何使用Jenkins构建Maven管理的简单Java应用程序的入门级流水线。")]),s._v("）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144607-603556.png",alt:"image-20200221144606880"}})]),s._v(" "),a("p",[s._v("在 "),a("strong",[s._v("Definition")]),s._v(" 域中，选择 "),a("strong",[s._v("Pipeline script from SCM")]),s._v(" 选项。此选项指示Jenkins从源代码管理（SCM）仓库获取你的流水线， 这里的仓库就是你clone到本地的Git仓库。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221144927-676464.png",alt:"image-20200221144926604"}})]),s._v(" "),a("p",[s._v("在 "),a("strong",[s._v("SCM")]),s._v(" 域中，选择 "),a("strong",[s._v("Git")]),s._v("。")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://alanlee-image-bed.oss-cn-shenzhen.aliyuncs.com/note_images/20200221145055-950423.png",alt:"image-20200221145055435"}})]),s._v(" "),a("p",[s._v("在 "),a("strong",[s._v("Repository URL")]),s._v(" 域中，填写你本地仓库的 "),a("a",{attrs:{href:"https://jenkins.io/zh/doc/tutorials/build-a-java-app-with-maven/#fork-sample-repository",target:"_blank",rel:"noopener noreferrer"}},[s._v("目录路径"),a("OutboundLink")],1),s._v("， 这是从你主机上的用户账户home目录映射到Jenkins容器的 "),a("code",[s._v("/home")]),s._v(" 目录：")]),s._v(" "),a("ul",[a("li",[s._v("MacOS系统 - "),a("code",[s._v("/home/Documents/GitHub/simple-java-maven-app")])]),s._v(" "),a("li",[s._v("Linux系统 - "),a("code",[s._v("/home/GitHub/simple-java-maven-app")])]),s._v(" "),a("li",[s._v("Windows系统 - "),a("code",[s._v("/home/Documents/GitHub/simple-java-maven-app")])])]),s._v(" "),a("p",[s._v("在克隆下来的java maven项目中创建Jenkinsfile文件")]),s._v(" "),a("p",[s._v("内容如下")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("pipeline {\n    agent {\n        docker {\n            image 'maven:3-alpine' \n            args '-v /root/.m2:/root/.m2' \n        }\n    }\n    stages {\n        stage('Build') { \n            steps {\n                sh 'mvn -B -DskipTests clean package' \n            }\n        }\n    }\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);